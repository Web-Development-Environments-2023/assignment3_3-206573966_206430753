(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f41dbd38"],{"2cd5":function(e,t,r){"use strict";var n=r("fb5f"),i=r.n(n);i.a},"3e91":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Add new recipe",size:"l"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",staticStyle:{width:"100%"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-form-group",{attrs:{label:"Title: ","label-for":"Title-input"}},[r("b-form-input",{staticClass:"form-group col-md-12",attrs:{id:"Title",type:"text",state:e.validateState("Title")},model:{value:e.$v.form.Title.$model,callback:function(t){e.$set(e.$v.form.Title,"$model",t)},expression:"$v.form.Title.$model"}}),e.$v.form.Title.required?e._e():r("b-form-invalid-feedback",[e._v(" Title is required ")])],1),r("b-form-group",{attrs:{label:"Preparation Time (in minuts): ","label-for":"Preparation-input"}},[r("b-form-input",{staticClass:"form-group col-md-12",attrs:{id:"Preparation",state:e.validateState("Preparation"),type:"number"},model:{value:e.$v.form.Preparation.$model,callback:function(t){e.$set(e.$v.form.Preparation,"$model",t)},expression:"$v.form.Preparation.$model"}}),e.$v.form.Preparation.required?e._e():r("b-form-invalid-feedback",[e._v(" Preparation time is required ")]),e.$v.form.Preparation.required&&!e.$v.form.Preparation.pos?r("b-form-invalid-feedback",[e._v(" Preparation time have to be positive number ")]):e._e()],1),r("b-form-group",{attrs:{label:"Popularity: ","label-for":"Popularity-input"}},[r("b-form-input",{staticClass:"form-group col-md-12",attrs:{id:"Popularity",state:e.validateState("Popularity"),type:"number"},model:{value:e.$v.form.Popularity.$model,callback:function(t){e.$set(e.$v.form.Popularity,"$model",t)},expression:"$v.form.Popularity.$model"}}),e.$v.form.Popularity.required?e._e():r("b-form-invalid-feedback",[e._v(" Popularity is required ")]),e.$v.form.Popularity.required&&!e.$v.form.Popularity.pos?r("b-form-invalid-feedback",[e._v(" Popularity have to be positive number ")]):e._e()],1),r("b-form-group",{attrs:{label:"Recipe Image (URL): ","label-for":"Image-input"}},[r("b-form-input",{staticClass:"form-group col-md-12",attrs:{id:"Image",state:e.validateState("Image"),type:"url"},model:{value:e.$v.form.Image.$model,callback:function(t){e.$set(e.$v.form.Image,"$model",t)},expression:"$v.form.Image.$model"}}),e.$v.form.Image.required?e._e():r("b-form-invalid-feedback",[e._v(" Image is required ")])],1),r("b-form-group",{attrs:{label:"Servings: ","label-for":"servings-input"}},[r("b-form-input",{staticClass:"form-group col-md-12",attrs:{id:"servings",state:e.validateState("servings"),type:"number"},model:{value:e.$v.form.servings.$model,callback:function(t){e.$set(e.$v.form.servings,"$model",t)},expression:"$v.form.servings.$model"}}),e.$v.form.servings.required?e._e():r("b-form-invalid-feedback",[e._v(" Servings is required ")]),e.$v.form.servings.required&&!e.$v.form.servings.pos?r("b-form-invalid-feedback",[e._v(" Servings have to be positive number ")]):e._e()],1),r("b-form-group",{attrs:{label:"Ingredients: ","label-for":"ingredients-input","invalid-feedback":"ingredients is required"}},[e._l(e.ing,(function(t,n){return r("div",{key:n,staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-4"},[r("b-form-group",[r("b-form-input",{staticClass:"form-control",attrs:{id:"ingredient",state:t.state,name:"ing["+n+"][ingredient]",type:"text",placeholder:"Ingridient"},on:{change:function(t){return e.checkLengthIng(n)}},model:{value:t.ingridient,callback:function(r){e.$set(t,"ingridient",r)},expression:"experience.ingridient"}}),0==t.ingridient.length?r("b-form-invalid-feedback",[e._v(" Ingredient is required ")]):e._e()],1)],1),r("div",{staticClass:"form-group col-md-4"},[r("b-form-group",[r("b-form-input",{attrs:{id:"amount",state:t.state2,type:"number",step:"0.01",min:"0.00"},on:{change:function(t){return e.validateA(n)}},model:{value:t.amount,callback:function(r){e.$set(t,"amount",r)},expression:"experience.amount"}}),t.amount?e._e():r("b-form-invalid-feedback",[e._v(" Preparation time is required ")])],1)],1),r("div",{staticClass:"form-group col-md-4"},[r("b-form-group",[r("b-form-select",{attrs:{id:"measure",options:e.mesures,state:t.state1},on:{change:function(t){return e.validateM(n)}},model:{value:t.measure,callback:function(r){e.$set(t,"measure",r)},expression:"experience.measure"}}),t.amount?e._e():r("b-form-invalid-feedback",[e._v(" Unit of measure is required ")])],1)],1)])})),r("div",{staticClass:"form-group",staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly","align-items":"center"}},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.addIng}},[e._v("Add Ingredient")]),r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.removeIng}},[e._v("Remove Last Ingredient")])])],2),r("b-form-group",{attrs:{label:"Instructions: ","label-for":"insrucrion","invalid-feedback":"insrucrion is required"}},[e._l(e.ins,(function(t,n){return r("div",{key:n,staticClass:"form-row"},[r("div",{staticClass:"form-group col-md-12"},[r("b-form-group",[r("b-form-input",{staticClass:"form-control",attrs:{id:"step",state:t.state,name:"ing["+n+"][step]",type:"text",placeholder:"New Step"},on:{change:function(t){return e.checkLengthIns(n)}},model:{value:t.step,callback:function(r){e.$set(t,"step",r)},expression:"experience.step"}}),0==t.step.length?r("b-form-invalid-feedback",[e._v(" Insrucrion is required ")]):e._e()],1)],1)])})),r("div",{staticClass:"form-group",staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly","align-items":"center"}},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.addIns}},[e._v("Add step")]),r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.removeIns}},[e._v("Remove Last Step")])])],2),r("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-evenly","align-items":"center"}},[r("b-form-checkbox",{attrs:{id:"Vegan",name:"Vegan",value:"1","unchecked-value":"0",state:e.validateState("Vegan")},model:{value:e.$v.form.Vegan.$model,callback:function(t){e.$set(e.$v.form.Vegan,"$model",t)},expression:"$v.form.Vegan.$model"}},[e._v(" Vegan ")]),r("b-form-checkbox",{attrs:{id:"Vegetarian",name:"Vegetarian",value:"1","unchecked-value":"0",state:e.validateState("Vegetarian")},model:{value:e.$v.form.Vegetarian.$model,callback:function(t){e.$set(e.$v.form.Vegetarian,"$model",t)},expression:"$v.form.Vegetarian.$model"}},[e._v(" Vegetarian ")]),r("b-form-checkbox",{attrs:{id:"Gluten",name:"Gluten",value:"1","unchecked-value":"0",state:e.validateState("Gluten")},model:{value:e.$v.form.Gluten.$model,callback:function(t){e.$set(e.$v.form.Gluten,"$model",t)},expression:"$v.form.Gluten.$model"}},[e._v(" Gluten ")])],1)],1)])],1)},i=[],o=(r("7a82"),r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("b636"),r("944a"),r("0c47"),r("23dc"),r("b8bf"),r("3410"),r("4160"),r("159b"),r("131a"),r("26e9"),r("fb6a"),r("53ca")),a=r("1da1"),s=(r("b0c0"),r("d81d"),r("b5ae"));function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function f(e,t,r,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new L(i||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=f;var m={};function p(){}function v(){}function h(){}var g={};c(g,a,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(q([])));y&&y!==t&&r.call(y,a)&&(g=y);var $=h.prototype=p.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(n,a,s,l){var u=d(e[n],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Object(o["a"])(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return S()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function q(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return v.prototype=h,n($,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:v,configurable:!0}),v.displayName=c(h,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,u,"GeneratorFunction")),e.prototype=Object.create($),e},e.awrap=function(e){return{__await:e}},k(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k($),c($,u,"Generator"),c($,a,(function(){return this})),c($,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=q,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:q(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}var u={data:function(){return{name:"",nameState:null,submittedNames:[],ing:[{ingridient:"",amount:null,state:null,measure:null,state1:null,state2:null}],ins:[{step:"",state:null}],check:!0,OkPressed:!1,mesures:["cups","tbsp","tsp","ml","l","g","kg","slices","pieces","stick","pinches"],form:{Title:"",Preparation:"",Popularity:"",Image:"",servings:"",Vegan:0,Vegetarian:0,Gluten:0}}},validations:{form:{Title:{required:s["required"]},Preparation:{pos:function(e){return e>0},integer:s["integer"],required:s["required"]},Popularity:{pos:function(e){return e>0},required:s["required"]},Image:{required:s["required"]},servings:{pos:function(e){return e>0},required:s["required"]},Vegan:{integer:s["integer"]},Vegetarian:{integer:s["integer"]},Gluten:{integer:s["integer"]},step:{required:s["required"]},ingredient:{required:s["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,n=t.$error;return r?!n:null},resetModal:function(){this.name="",this.nameState=null},handleOk:function(e){e.preventDefault(),this.OkPressed=!0,this.handleSubmit()},Addrecipe:function(e,t){var r=this;return Object(a["a"])(l().mark((function n(){return l().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("hey"),n.prev=1,n.next=4,r.axios.post(r.$root.store.server_domain+"/users/addRecipe",{title:r.form.Title,img:r.form.Image,time:r.form.Preparation,popularity:r.form.Popularity,vegan:r.form.Vegan,vegetarian:r.form.Vegetarian,glutenFree:r.form.Gluten,extendedIngredients:t,analyzedInstructions:e,servings:r.form.servings},{withCredentials:!0});case 4:n.sent,console.log("here"),r.$router.push("/MyRecipe"),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log(n.t0.response),r.form.submitError=n.t0.response.data.message;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},handleSubmit:function(){this.$v.form.$touch(),this.check=!0;for(var e=0;e<this.ing.length;e++){var t=this.checkLengthIng(e),r=this.validateA(e),n=this.validateM(e);0!=t&&0!=r&&0!=n||(this.check=!1)}for(var i=0;i<this.ins.length;i++){var o=this.checkLengthIns(i);0==o&&(this.check=!1)}if(console.log(this.$v.form.$anyError),0!=this.check&&this.$v.form.$anyError){var a=[],s=[];this.ins.map((function(e){return a.push(e["step"])})),this.ing.map((function(e){return s.push(e["ingridient"]+", "+e["amount"]+e["measure"])})),console.log(s),console.log(a),this.Addrecipe(a,s)}},addIng:function(){this.ing.push({ingridient:"",amount:null,state:null,measure:null,state1:null,state2:null})},addIns:function(){this.ins.push({step:"",state:null}),this.validations},removeIng:function(){this.ing.length>1&&this.ing.pop()},removeIns:function(){this.ins.length>1&&this.ins.pop()},checkLengthIng:function(e){if(this.OkPressed)return this.ing[e]["ingridient"].length>0?(this.ing[e]["state"]=!0,!0):(this.ing[e]["state"]=!1,!1)},checkLengthIns:function(e){if(this.OkPressed)return this.ins[e]["step"].length>0?(this.ins[e]["state"]=!0,!0):(this.ins[e]["state"]=!1,!1)},validateM:function(e){if(this.OkPressed)return null!=this.ing[e]["measure"]?(this.ing[e]["state1"]=!0,!0):(this.ing[e]["state1"]=!1,!1)},validateA:function(e){if(this.OkPressed)return null!=this.ing[e]["amount"]?(this.ing[e]["state2"]=!0,!0):(this.ing[e]["state2"]=!1,!1)}},mounted:function(){this.$refs["modal"].show()}},c=u,f=(r("2cd5"),r("2877")),d=Object(f["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},d81d:function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),a=r("ae40"),s=o("map"),l=a("map");n({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},fb5f:function(e,t,r){}}]);
//# sourceMappingURL=chunk-f41dbd38.fda2dc67.js.map